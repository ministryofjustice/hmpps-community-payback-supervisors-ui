{% from "govuk/components/button/macro.njk" import govukButton %}
{% extends "../partials/layout.njk" %}

{% set pageTitle = applicationName + " - Home" %}
{% set mainClasses = "app-container govuk-body" %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">{{ 'Next session' | pluralise(sessions.?length)}}</h1>
    </div>
  </div>

  {% for session in sessions %}

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <div data-cy="session-details" class="govuk-notification-banner cpb-border-grey" aria-labelledby="govuk-notification-banner-title">
          <div class="govuk-notification-banner__header cpb-bg-grey">
            <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
              {{session.formattedDate}}
            </h2>
          </div>
          <div class="govuk-notification-banner__content">
            <h3 class="govuk-notification-banner__heading">
              {{session.projectName}}
            </h3>
            <p class="govuk-body">{{ session.numberOfOffendersAllocated }} {{ 'person' | pluralise(session.numberOfOffendersAllocated) }} scheduled to work this session</p>

            {{ govukButton({
              text: "View details",
              href: session.path
            }) }}

          </div>
        </div>
      </div>
    </div>

  {% endfor %}

{% endblock %}
